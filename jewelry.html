<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100&family=Roboto:wght@300&display=swap" rel="stylesheet">


</head>




<body id="jewelry_body">

    <template>
        <article class="smykker_template">
            <img class="billede" src="">
            <h2 class="navn"></h2>
            <p class="pris"></p>
            <a class="link" href="">Add to cart</a>
        </article>
    </template>

    <main>
        <section>
            <h1>Argentum collection</h1>
            <article class="filter_knapper">
                <button class="filter valgt" data-kategori="alle">Alle</button>
                <button class="filter" data-kategori="halskaeder">Necklaces</button>
                <button class="filter" data-kategori="armbaand">Bracelets</button>
                <button class="filter" data-kategori="oereringe">Earrings</button>
                <button class="filter" data-kategori="ringe">Rings</button>
            </article>

            <section id="list"></section>
        </section>

        <section id="jewelry_section"></section>
    </main>

     <footer>
        <div class="foot-column">
            <p>The Source<br>Tel: +45 60 56 66 70<br>thesourcecph@gmail.com</p>
            <p>Find us here</p>
            <div class="foot-so-me">
                <img src="img/facebook-computer-icons-logo-facebook-icon-6c7c62bdf8b1031cc1887831ce79d408.png" alt="facebook">
                <img src="img/computer-icons-logo-facebook-email-whatsapp-address-phone-instagram-ic-bf4214eeb4b383f4176b09e0c0975d92.png" alt="instagram">
            </div>
        </div>
        <div class="foot-column">
            <a href="index.html">
                <img src="img/Artboard%201.svg" alt="logo for the source" class="footer_logo">
            </a>
        </div>
        <div class="foot-column">

            <a href="care_guide.html">
                <p>Careguide</p>
            </a>


            <a href="retailers.html">
                <p>Retailers</p>
            </a>


            <a href="terms.html">
                <p>Terms and Conditions</p>
            </a>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", start);

        // Variabel url er linket til siden.
        const url = "http://deacosmus.dk/kea/10_eksamen/hjemmeside/wordpress/wp-json/wp/v2/smykker?per_page=100";
        // Variablen skabelon, er templatens indhold.
        const skabelon = document.querySelector("template").content;
        // Variablen smykkeListe, er den section hvor indholdet fra pods skal indsættes i.
        const smykkeListe = document.querySelector("#jewelry_section");
        let indhold;
        let filter = "alle";
        let smykker;



        async function start() {
            console.log("start");
            const hentUrl = await fetch(url);
            indhold = await hentUrl.json();
            visIndhold();
        }


        function visIndhold() {
            console.log(filter);
            smykkeListe.innerHTML = "";
            indhold.forEach(smykke => {
                const klon = skabelon.cloneNode(true);
                if (filter == "alle" || filter == smykke.kategori) {
                    console.log("indlæs et smykke");
                    klon.querySelector(".billede").src = smykke.billede.guid;
                    klon.querySelector(".navn").textContent = smykke.navn;
                    klon.querySelector(".pris").textContent = smykke.pris;
                    klon.querySelector(".link").href = "singleview.html?id=" +
                        smykke.id;

                    smykkeListe.appendChild(klon);
                }
            })
            addEventlistenersToButtons();
        }


        function addEventlistenersToButtons() {
            document.querySelectorAll(".filter").forEach(button => {
                button.addEventListener("click", filterBTNs);
            });
        }
        // Her tager vi fat i knapperne.
        function filterBTNs() {
            filter = this.dataset.kategori;
            console.log(filter);
            visIndhold();
        }

    </script>
    <script src="script.js"></script>

</body>

</html>
