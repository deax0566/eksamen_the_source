<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="">
</head>




<body>

    <template>
        <article class="smykker_template">
            <img class="billede" src="">
            <h2 class="navn"></h2>
            <p class="pris"></p>
            <a class="link" href="">Se produkt</a>
        </article>
    </template>

    <main>
        <section>
            <h1>Argentum collection</h1>
            <article class="filter_knapper">
                <a class="filter valgt" data-kategori="alle">Alle</a>
                <a class="filter" data-kategori="halskaeder">Necklaces</a>
                <a class="filter" data-kategori="armbaand">Bracelets</a>
                <a class="filter" data-kategori="oereringe">Earrings</a>
                <a class="filter" data-kategori="ringe">Rings</a>
            </article>
            <h3>Alle</h3>
            <section id="list"></section>
        </section>



        <section id="jewelry_section"></section>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", start);

        // Variabel url er linket til siden.
        const url = "http://deacosmus.dk/kea/10_eksamen/hjemmeside/wordpress/wp-json/wp/v2/smykker?per_page=100";

        // Variablen skabelon, er templatens indhold.
        const skabelon = document.querySelector("template").content;

        // Variablen smykkeListe, er den section hvor indholdet fra pods skal indsættes i.
        const smykkeListe = document.querySelector("jewelry_section");

        let indhold;
        let filter = "alle";
        let smykker;

        async function start() {
            console.log("start");
            const hentUrl = await fetch(url);
            indhold = await hentUrl.json();
            visIndhold();
        }


        function visIndhold() {
            console.log("visIndhold");

            indhold.forEach(smykke => {

                const klon = skabelon.cloneNode(true);
                klon.querySelector(".billede").src = smykke.billede.guid;
                klon.querySelector(".navn").textContent = smykke.navn;
                klon.querySelector(".pris").textContent = smykke.pris;
                klon.querySelector(".link").href = "singleview.html?id=" +
                    smykke.id;

                jewelry_section.appendChild(klon);

            })
        }







        //
        //
        //
        //
        //
        //
        //        function visSmykker() {
        //            const templatePointer = document.querySelector("template");
        //            const listPointer = document.querySelector("#list");
        //            listPointer.innerHTML = ""; //html containeren tømmes og der tilgøjes nyt indhold
        //
        //            smykker.feed.entry.forEach(smykke => {
        //                if (filter == "alle" || filter == smykke.categories) {
        //                    console.log(smykke);
        //
        //                    const minKlon = templatePointer.cloneNode(true).content;
        //
        //
        //                    listPointer.appendChild(minKlon);
        //                }
        //            })
        //        }
        //
        //        //vi adder en click funktion alle med classen filter. Som kalder funktionen filterBTn's.
        //
        //        function addEventListenersToButtons() {
        //            document.querySelectorAll(".filter").forEach((btn) => {
        //                btn.addEventListener("click", filterBTNs);
        //            });
        //        }
        //
        //
        //        // Denne funktion udskriver indholdet på siden. Alt efter hvilken knap der trykkes på, vil indholdet i h3 ændre sig til det valgte.
        //
        //        function filterBTNs() {
        //            filter = this.dataset.kategori;
        //            document.querySelector("h3").textContent = this.textContent;
        //
        //            document.querySelectorAll(".filter").forEach((btn) => {
        //                btn.classList.remove("valgt");
        //            })
        //            this.classList.add("valgt");
        //            visSmykker();
        //        }

    </script>

</body>

</html>
